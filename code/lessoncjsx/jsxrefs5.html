<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refs</title>
    <script src="https://unpkg.com/react/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
  function Counter() {
      const[count,setCount]=React.useState(0);
      const previousCount = React.useRef(0);
      let oldCount = 0;
      React.useEffect(() => { // This runs every time AFTER the Counter is rendered.
             previousCount.current = count
            oldCount = count
            console.log('UseEffect: prv: '+previousCount.current +' original:'+oldCount);
        })
     console.log('render - prv: ' +previousCount.current+ ' current: '+ count +
       ' original:' +oldCount )
    return (
      <div className="flex flex-col justify-center items-center m-8">
        <div>
             Prev: {previousCount.current}, current: {count}, originalCount: {oldCount}
        </div>
        <button
          className="bg-purple-700 px-6 text-white rounded-md hover:bg-purple-500"
          onClick={() => {  console.log(count); setCount(count+1); } }   >
          +1
        </button>
      </div>
    )
  }
  const element = (
    <div className="container">
        <Counter />
        <Counter />
    </div>
  )
//  ReactDOM.render ( element, document.getElementById('root'))
const root_element = document.getElementById('root');
  const root = ReactDOM.createRoot(root_element);
        root.render(element);
</script>
</body>
</html>